# Assistant Moderator API

API-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ GigaChat.

---
> [!TIP]
> ## –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –≤ –æ–±–ª–∞–∫–µ –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
>* **Swagger UI (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è):** [https://api-assistantmoderator.onrender.com/swagger-ui/index.html](https://api-assistantmoderator.onrender.com/swagger-ui/index.html)

> **–í–∞–∂–Ω–æ:** –°–µ—Ä–≤–∏—Å —Ä–∞–∑–º–µ—â–µ–Ω –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ Render. –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–≥–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è, —Å–µ—Ä–≤–µ—Ä —É—Ö–æ–¥–∏—Ç –≤ ¬´—Å–ø—è—â–∏–π —Ä–µ–∂–∏–º¬ª. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 30-50 —Å–µ–∫—É–Ω–¥**, –ø–æ–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ.

---


---

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è –∏ –∏–∑–º–µ–Ω—è—Ç—å—Å—è.  
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –æ—Ç–∑—ã–≤—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç **Assistant Moderator API** —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–∞–∫ backend-—Å–µ—Ä–≤–∏—Å (API), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö (–æ–Ω–ª–∞–π–Ω-—á–∞—Ç—ã, —Ñ–æ—Ä—É–º—ã, —Å–∏—Å—Ç–µ–º—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤).

---

##  –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–µ–¥—É—é—â–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫:

*   **Java 17+:** –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
*   **Spring Boot 3.2.5:** –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è standalone-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   **MapStruct:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (bean mapping).
*   **PostgreSQL:** –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –∏—Å—Ç–æ—Ä–∏–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏.
*   **Liquibase:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–º–∏–≥—Ä–∞—Ü–∏–∏).
*   **Jasypt Spring Boot:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö (`application.yaml`) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è.
*   **Springdoc OpenAPI / Swagger UI:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.
*   **WebClient (Spring WebFlux):** –î–ª—è  –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API GigaChat.
*   **API:** GigaChat API (OAuth2, REST)
*   **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
*   **Docker Compose** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ 

#### –ö–ª—é—á–µ–≤—ã–µ —Ü–µ–ª–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

*   **–ê–Ω–∞–ª–∏–∑ –Ω–µ–≥–∞—Ç–∏–≤–∞:** –û—Ü–µ–Ω–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –Ω–∞–ª–∏—á–∏—è –≥—Ä—É–±–æ—Å—Ç–∏, –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–π, –Ω–µ–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏.
*   **–ú–Ω–æ–≥–æ–∫—Ä–∏—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º (—Ç–æ–Ω, –∫–æ–Ω—Ç–µ–∫—Å—Ç, —É—Ä–æ–≤–µ–Ω—å –Ω–µ–≥–∞—Ç–∏–≤–∞).
*   **–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∏–º–µ—é—Ç –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π, –≥—Ä—É–±—ã–π, –æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä ( —Å—á—ë—Ç—á–∏–∫ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –ª–∏–º–∏—Ç–∞).
      * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Hibernate `@Formula` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ë–î.
      * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–∏ 3-—Ö –∏ –±–æ–ª–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —É—Ä–æ–≤–Ω–µ–º —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏ (score >= 9).
      * –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –æ—Ç–≤–µ—Ç–µ API.
    > **–í–∞–∂–Ω–æ:** –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è, —á—Ç–æ –ø–æ—Å–ª–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
*   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –ü–ª–∞–Ω—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é (Roadmap):

*   **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (Kafka):** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.
---
## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (`russian_trusted_root_ca.cer`, `russian_trusted_root_ca_gost_2025.cer`).

–≠—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã *–Ω–µ* –≤–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã Java. –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker Compose –≤ Docker-–æ–±—Ä–∞–∑–µ, —Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –±—É–¥—É—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∏–Ω–∞—á–µ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å API GIGA —á–∞—Ç –∏—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Java (Java Keystore / `cacerts`).

---

## Docker

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

   git clone https://github.com/AnnaKuryleva/assistantModerator

   cd assistant-moderator

2. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ñ–∞–π–ª .env

   C–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Ä—è–¥–æ–º —Å docker-compose.yml).

> **–í–∞–∂–Ω–æ:** –ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **Jasypt**. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `ENC(...)`, —É–∫–∞–∑–∞–≤ –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `JASYPT_ENCRYPTOR_PASSWORD`, –ª–∏–±–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ.
> .env —Ñ–∞–π–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ –æ—Ç–∫—Ä—ã—Ç—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

### –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```
DB_URL=jdbc:postgresql://localhost:5433/assistantModerator
DB_USERNAME=admin
DB_PASSWORD=admin
```

#### –ö–ª—é—á–∏ GigaChat API  [https://developers.sber.ru/docs/ru/gigachat/api/reference/rest/post-token](https://developers.sber.ru/docs/ru/gigachat/api/reference/rest/post-token)

```
GIGACHAT_UID=–≤–∞—à_client_id
GIGACHAT_SECRET=–≤–∞—à_client_secret
GIGACHAT_RQ_UID=6f0b1291-c7f3-43c6-bb2e-9f3efb2dc98e
```

#### –ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á Jasypt

```
JASYPT_ENCRYPTOR_PASSWORD=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

#### –ü–∞—Ä–æ–ª—å –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –≤ Docker (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose)
```
POSTGRES_PASSWORD=admin
```

```
assistant-moderator/
‚îú‚îÄ‚îÄ src/
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env              ‚Üê —Ñ–∞–π–ª 
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ ...

```
> Docker Compose —Å–º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env`.

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ Docker Compose

- [–°–∫–∞—á–∞—Ç—å Docker](https://docs.docker.com/get-docker/)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose](https://docs.docker.com/compose/)

4. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
docker-compose build
docker-compose up -d
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ [http://localhost:8080](http://localhost:8080/).

5. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

```bash
docker-compose down
```
6. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
   docker-compose logs -f app 
```
–õ–æ–≥–∏ –ë–î
```bash
   docker-compose logs -f db 
```    
–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ë–î
```bash
   docker-compose down -v     
```
## –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

–í—ã –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å:  
üîó [https://www.sberbank.ru/ru/certificates](https://www.sberbank.ru/ru/certificates)

–í–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–µ –≤ –ø–∞–ø–∫–µ `certificates/`, –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ `cacerts` –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π JDK —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã `keytool`.

#### 1. –ù–∞–π–¥–∏—Ç–µ `keytool`

–£—Ç–∏–ª–∏—Ç–∞ `keytool` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `bin` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π JDK. –ü—É—Ç—å –æ–±—ã—á–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

*   **Windows:**  
    `%JAVA_HOME%\bin\keytool.exe`  
    –∏–ª–∏  
    `C:\Program Files\Java\jdk-21\bin\keytool.exe`

*   **macOS / Linux:**  
    `$JAVA_HOME/bin/keytool`  
    –∏–ª–∏  
    `/usr/lib/jvm/java-21-openjdk/bin/keytool`

#### 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–º–ø–æ—Ä—Ç–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (–∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É), –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã.  
**–ó–∞–º–µ–Ω–∏—Ç–µ `%JAVA_HOME%` –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –≤–∞—à–µ–π JDK**, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞.

> **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ `cacerts` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `changeit`**


### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
"%JAVA_HOME%\bin\keytool.exe" -importcert -cacerts -storepass changeit -file "certificates/russian_trusted_root_ca.cer" -alias RussianTrustedCA1 -noprompt
```
### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
"%JAVA_HOME%\bin\keytool.exe" -importcert -cacerts -storepass changeit -file "certificates/russian_trusted_root_ca_gost_2025.cer" -alias RussianTrustedCA2025 -noprompt
```

---

### –ó–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã.
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–µ.
3. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
./mvnw clean package
java -jar target/assistant-moderator.jar
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

–î–æ—Å—Ç—É–ø–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç:

### `POST /api/moderation/checkText`

–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞.

**1. –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "userId": 17,
  "userText": "–ú–æ—Ä–æ–∑ –∏ —Å–æ–ª–Ω—Ü–µ; –¥–µ–Ω—å —á—É–¥–µ—Å–Ω—ã–π!–ï—â–µ —Ç—ã –¥—Ä–µ–º–ª–µ—à—å, –¥—Ä—É–≥ –ø—Ä–µ–ª–µ—Å—Ç–Ω—ã–π ‚Äî –ü–æ—Ä–∞, –∫—Ä–∞—Å–∞–≤–∏—Ü–∞, –ø—Ä–æ—Å–Ω–∏—Å—å!"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "negative": false,
  "score": 0,
  "context": "–ü–æ—ç—Ç–∏—á–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∏–º–Ω–µ–π –ø—Ä–∏—Ä–æ–¥—ã –∏ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è",
  "tone": "–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π, —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π",
  "userBlocked": false
}
```

---
**2. –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "userId": 1,
  "userText": "–∑–¥–µ—Å—å_–±—ã–ª_–æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω—ã–π_—Ç–µ–∫—Å—Ç"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "negative": true,
  "score": 9,
  "context": "–≥—Ä—É–±–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–ø—Ä–∏—è–∑–Ω–∏ –∏ —É–≥—Ä–æ–∑—ã [–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù]",
  "tone": "–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∏ —É–≥—Ä–æ–∂–∞—é—â–∞—è",
  "userBlocked": true
}
```
---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (Swagger UI / OpenAPI)

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ REST API –≤ –ø—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Swagger UI.

### 1. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Swagger UI

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –∞–¥—Ä–µ—Å—É:

[http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)

–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞.

### 2. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è OpenAPI

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

[src/main/resources/docs/api-docs.yaml](src/main/resources/docs/api-docs.yaml)